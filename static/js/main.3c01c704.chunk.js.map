{"version":3,"sources":["context/UserProvider.js","components/Title/Title.js","hooks/useStorage.js","components/ProgressBar/ProgressBar.js","components/UploadForm/UploadForm.js","hooks/useFirestore.js","components/ImageGrid/ImageGrid.js","components/Modal/Modal.js","components/Profile/Profile.js","components/Navbar/Navbar.js","components/Loader/Loader.js","components/auth/Login.js","components/auth/Logout.js","components/auth/Signup.js","hooks/useFirestoreHome.js","components/Home/Home.js","App.js","index.js","firebase/config.js"],"names":["userContext","createContext","user","UserProvider","props","useState","setUser","useEffect","auth","onAuthStateChanged","a","userAuth","Provider","value","children","Title","useContext","className","displayName","useStorage","file","userId","progress","setProgress","error","setError","url","setUrl","storageRef","projectStorage","ref","name","collectionRef","projectFirestore","collection","put","on","snap","percentage","bytesTransferred","totalBytes","err","getDownloadURL","createdAt","timestamp","createdBy","add","ProgressBar","setFile","uid","setErr","div","initial","width","animate","UploadForm","types","type","onChange","e","selected","target","files","includes","useFirestore","docs","setDocs","unsub","where","orderBy","onSnapshot","documents","forEach","doc","push","data","id","ImageGrid","setSelectedImage","map","whileHover","opacity","layout","key","onClick","img","transition","delay","src","alt","Modal","selectedImage","classList","contains","y","Profile","to","Navbar","Loader","Login","email","setEmail","password","setPassword","loading","setLoading","handleSubmit","preventDefault","signInWithEmailAndPassword","message","onSubmit","htmlFor","currentTarget","p","Logout","loggedOut","setLoggedOut","signOut","then","catch","Signup","userName","setUserName","validateForm","createUserWithEmailAndPassword","updateProfile","valid","length","required","require","useFirestoreHome","setDoc","Home","count","useRef","current","d","delkay","App","exact","path","component","ReactDOM","render","StrictMode","document","getElementById","firebaseConfig","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","REACT_APP_MESSAGING_SENDER_ID","appId","APP_ID","firebase","initializeApp","storage","firestore","FieldValue","serverTimestamp"],"mappings":"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","file":"static/js/main.3c01c704.chunk.js","sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\nimport { auth } from '../firebase/config';\n\nexport const userContext = createContext({\n    user: null\n});\n\nconst UserProvider = (props) => {\n    const [user, setUser] = useState(null);\n\n    useEffect(() => {\n        auth.onAuthStateChanged(async userAuth => {\n            setUser(userAuth);\n        });\n    },[]);\n\n    return (\n        <userContext.Provider value={ user }>\n            {props.children}\n        </userContext.Provider>\n    )\n}\n\nexport default UserProvider;","import React, { useContext } from 'react';\n\nimport './Title.css'\nimport { userContext } from '../../context/UserProvider';\n\nconst Title = () => {\n\n  const user = useContext(userContext);\n\n  return (\n    <div className=\"title\">\n      <h2>{user.displayName}</h2>\n      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>\n    </div>\n  )\n}\n\nexport default Title;","import { useState, useEffect } from 'react';\nimport { projectStorage, projectFirestore, timestamp } from '../firebase/config';\n\nconst useStorage = (file, userId, displayName) => {\n    const [progress, setProgress] = useState(0);\n    const [error, setError] = useState(null);\n    const [url, setUrl] = useState(null);\n\n    useEffect(() => {\n        // references\n        const storageRef = projectStorage.ref(file.name);\n        const collectionRef = projectFirestore.collection('images')\n\n        storageRef.put(file).on('state_changed', (snap) => {\n            let percentage = (snap.bytesTransferred / snap.totalBytes) * 100;\n            setProgress(percentage);\n        }, (err) => {\n            setError(err);\n        }, async () => {\n            const url = await storageRef.getDownloadURL();\n            const createdAt = timestamp();\n            const createdBy = userId;\n\n            collectionRef.add({ \n                url,\n                createdAt,\n                createdBy,\n                displayName\n            })\n            setUrl(url);\n        });\n    }, [file, userId, displayName]);\n\n    return { progress, url, error };\n}\n\nexport default useStorage;","import React, { useEffect, useContext, useState } from 'react';\nimport useStorage from '../../hooks/useStorage';\nimport { motion } from 'framer-motion';\nimport './Progress.css'\nimport { userContext } from '../../context/UserProvider';\n\nconst ProgressBar = ({file, setFile}) => {\n\n    const user = useContext(userContext);\n    const { url, progress, error } = useStorage(file, user.uid, user.displayName);\n    const [err, setErr] = useState('');\n    \n    useEffect(() => {\n        if(url) {\n            setFile(null);\n        }\n        if(error) {\n            setErr('Something went wrong. Please try again later!')\n        }\n    }, [url, setFile, error]);\n\n    return (\n        <>\n        { !err ? \n            <motion.div className=\"progress-bar\"\n                initial={{ width: 0}}\n                animate={{ width: progress + '%'}}>\n            </motion.div> :\n            <div className=\"error\">{err}</div>\n        }\n\n        </>\n    )\n}\n\nexport default ProgressBar;","import React, { useState } from 'react';\nimport ProgressBar from '../ProgressBar/ProgressBar';\nimport './UploadForm.css'\n\nconst UploadForm = () => {\n\n\n    const [file, setFile] = useState(null);\n    const [error, setError] = useState(null);\n\n    const types = ['image/png', 'image/jpeg', 'image/jpg'];\n\n    const changeHandler = (e) => {\n        let selected = e.target.files[0];\n\n        if(selected && types.includes(selected.type)) {\n            setFile(selected);\n            setError('');\n        } else {\n            setFile(null);\n            setError('Please select and image file (png, jpeg or jpg)');\n        }\n    }\n\n    return(\n        <form className=\"upload-form\">\n            <label>\n              <input type=\"file\" onChange={changeHandler}/>\n              <span>+</span>\n            </label>\n           <div className=\"output\">\n            {error && <div className=\"error\">{error}</div>}\n            {file && <div>{file.name}</div>}\n            {file && <ProgressBar file={file} setFile={setFile} />}\n           </div>\n        </form>\n    );\n}\n\nexport default UploadForm;","import { useState, useEffect } from 'react';\nimport { projectFirestore } from '../firebase/config';\n\nconst useFirestore = (collection, userId) => {\n    const [docs, setDocs] = useState([]);\n\n    useEffect(() => {\n        const unsub = projectFirestore.collection(collection).where('createdBy', '==', userId)\n        .orderBy('createdAt', 'desc')\n        .onSnapshot((snap) => {\n            let documents = [];\n            snap.forEach(doc => {\n                documents.push({...doc.data(), id: doc.id});\n            });\n            setDocs(documents);\n        });\n\n       return () => unsub(); \n    }, [collection, userId]);\n\n    return { docs };\n}\n\nexport default useFirestore;","import React, { useContext } from 'react';\nimport useFirestore from '../../hooks/useFirestore';\nimport { motion } from 'framer-motion';\nimport './ImageGrid.css'\nimport { userContext } from '../../context/UserProvider';\n\nconst ImageGrid = ({ setSelectedImage }) => {\n\n    const user = useContext(userContext);\n    const { docs } = useFirestore('images', user.uid);\n\n    return (\n        <div className=\"img-grid\">\n            { docs && docs.map( doc => (\n                <motion.div whileHover={{ opacity: 1 }} layout className=\"img-wrap\" key={ doc.id } onClick={ () => setSelectedImage(doc.url) }>\n                    <motion.img \n                    initial={{ opacity: 0 }}\n                    animate={{ opacity: 1 }}\n                    transition= {{ delay: 1 }}\n                    src={ doc.url } alt=\"uploaded pic\" />\n                </motion.div>\n            ))}\n        </div>\n    )\n}\n\nexport default ImageGrid;","import React from 'react';\nimport { motion } from 'framer-motion';\nimport './Modal.css'\n\nconst Modal = ({ selectedImage, setSelectedImage }) => {\n\n    const handleClick = (e) => {\n        if(e.target.classList.contains('backdrop')){\n            setSelectedImage(null);\n        }\n    }\n\n    return (\n        <motion.div \n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        className=\"backdrop\" onClick={ handleClick }>\n            <motion.img \n            initial={{ y: \"-100vh\" }}\n            animate={{ y: 0 }}\n            src={ selectedImage } alt=\"enlarged pic\"/>\n        </motion.div>\n    )\n}\n\nexport default Modal;","import React, { useState, useContext } from 'react';\n\nimport Title from '../Title/Title';\nimport UploadForm from '../UploadForm/UploadForm';\nimport ImageGrid from '../ImageGrid/ImageGrid';\nimport Modal from '../Modal/Modal';\nimport { Redirect } from 'react-router-dom';\nimport { userContext } from '../../context/UserProvider';\n\nconst Profile = () => {\n\n  const [selectedImage, setSelectedImage] = useState(null)\n  const user = useContext(userContext);\n\n  if(!user) {\n    return <Redirect to=\"/login\" />\n  }\n\n  return(\n      <div className=\"App\">\n        <Title/>\n        <UploadForm />\n        <ImageGrid setSelectedImage={ setSelectedImage } />\n        { selectedImage && <Modal selectedImage= { selectedImage } setSelectedImage= { setSelectedImage }/>}\n      </div>\n  )\n}\n\nexport default Profile;","import React, { useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport { userContext } from '../../context/UserProvider';\nimport './Navbar.css';\n\nconst Navbar = () => {\n\n    const user = useContext(userContext);\n\n    return(\n        <div className=\"nav-wrap\">\n            <nav className=\"nav-bar\">\n                <span className=\"logo\"><Link to=\"/\">Photo App</Link></span>\n                <span className=\"spacer\"></span>\n                <ul>\n                    { user && <li className=\"nav-link\"><Link to=\"/logout\">Log out</Link></li>}\n                    { !user && <li className=\"nav-link\"><Link to=\"/login\">Log in</Link></li>}\n                    { !user && <li className=\"nav-link\"><Link to=\"/signup\">Sign up</Link></li>}\n                    <li className=\"nav-link\"><Link to=\"/profile\">Profile</Link></li>\n                </ul>\n            </nav>\n        </div>\n\n    )\n}\n\nexport default Navbar;","import React from 'react';\n\nimport './Loader.css';\n\nconst Loader = () => {\n\n    return (\n        <div className=\"loader\"></div>\n    )\n}\n\nexport default Loader;","import React, { useState, useContext } from 'react'\nimport { auth } from 'firebase';\nimport { userContext } from '../../context/UserProvider'\n\nimport './Auth.css'\nimport { Redirect, Link } from 'react-router-dom';\nimport Loader from '../Loader/Loader';\n\nconst Login = () => {\n\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState('');\n    const user = useContext(userContext);\n\n    const handleSubmit = async (e) =>{\n        e.preventDefault()\n        try {\n            setLoading(true);\n            await auth().signInWithEmailAndPassword(email, password);\n        } catch (err) {\n            setLoading(false);\n            setError(err.message);\n        }\n    }\n    if(user) return <Redirect to=\"/home\" />\n\n    return (\n        <div className=\"auth-wrap\">\n            { !loading ?\n            <form onSubmit={ handleSubmit }>\n                <span>Log in</span>\n                <label htmlFor=\"email\">Email:</label>\n                <input type=\"email\" name=\"email\" onChange={ e => setEmail(e.currentTarget.value)} />\n                <label htmlFor=\"password\">Password:</label>\n                <input type=\"password\" name=\"password\" onChange={ p => setPassword(p.currentTarget.value)} />\n                <div className=\"button-wrap\">\n                    <button type=\"submit\" className=\"button button-primary\">Log in</button>\n                    <Link to=\"/signup\" className=\"button button-secondary\">Sign up</Link>\n                </div>\n            </form> :\n            <Loader />\n            }\n            { error && <div className=\"error\">{error}</div> }\n        </div>\n    )\n}\n\nexport default Login;","import React, { useEffect, useState } from 'react';\nimport { auth } from '../../firebase/config'\nimport { Redirect } from 'react-router-dom';\n\n\nconst Logout = () => {\n\n    const [loggedOut, setLoggedOut] = useState(false);\n    const [error, setError] = useState('');\n\n    useEffect(() => {\n        auth.signOut().then(() => {\n            setLoggedOut(true)\n        }).catch(setError(error));\n    }, [error])\n\n    if (loggedOut) {\n        return <Redirect to=\"/home\" />\n    }\n\n    return (\n        <div>{error.message}</div>\n    )\n}\n\nexport default Logout;","import React, { useState, useContext } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { auth } from '../../firebase/config';\nimport './Auth.css';\nimport { userContext } from '../../context/UserProvider';\nimport Loader from '../Loader/Loader';\n\nconst Signup = () => {\n\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [userName, setUserName] = useState('');\n    const [error, setError] = useState('');\n    const [loading, setLoading] = useState(false);\n    const user = useContext(userContext);\n\n    const handleSubmit = async (e) =>{\n        e.preventDefault()\n        if(validateForm()) {\n            try {\n                setLoading(true);\n                await auth.createUserWithEmailAndPassword(email, password).then(user => {\n                    user.user.updateProfile({\n                        displayName: userName\n                    })\n                });\n            } catch (err) {\n                setLoading(false);\n                setError(err.message);\n            }\n        }\n\n    }\n\n    const validateForm = () => {\n        let valid = true;\n        if(userName.length < 3) {\n            setError('Username must be minimum 3 characters.');\n            valid = false;\n        }\n\n        if(password.length < 6) {\n            setError('Password must be minimum 6 characters');\n            valid = false;\n        }\n\n        return valid;\n    }\n\n    if(user) return <Redirect to=\"/home\" />\n\n    return (\n        <div className=\"auth-wrap\">\n            { !loading ?\n                <form onSubmit={ handleSubmit }>\n                    <span>Sign up</span>\n                    <label htmlFor=\"userName\">Username:</label>\n                    <input type=\"text\" name=\"userName\" required onChange={ e => setUserName(e.currentTarget.value)} />\n                    <label htmlFor=\"email\">Email:</label>\n                    <input type=\"email\" name=\"email\" onChange={ e => {\n                        setEmail(e.currentTarget.value);\n                        setError('');\n                    }} required/>\n                    <label htmlFor=\"password\">Password:</label>\n                    <input type=\"password\" name=\"password\" required onChange={ p => setPassword(p.currentTarget.value)} />\n                    <button type=\"submit\" className=\"button button-primary\">Sign up</button>\n                </form> :\n                <Loader />\n            }\n            { error && <div className=\"error\">{error}</div> }\n        </div>\n    )\n}\n\nexport default Signup;","const { useState, useEffect } = require(\"react\");\nconst { projectFirestore } = require(\"../firebase/config\");\n\n\nconst useFirestoreHome = (collection) => {\n    const [doc, setDoc] = useState([]);\n\n    useEffect(() => {\n        const unsub = projectFirestore.collection(collection).orderBy('createdAt', 'desc')\n        .onSnapshot(snap => {\n            let documents = [];\n            snap.forEach(doc => {\n                documents.push({...doc.data(), id: doc.id});\n            });\n            setDoc(documents);\n        });\n\n        return () => unsub();\n    }, [collection]);\n\n    return { doc } \n}\n\nexport default useFirestoreHome;","import React, { useEffect, useState, useRef } from 'react';\nimport useFirestoreHome from '../../hooks/useFirestoreHome';\nimport { motion } from 'framer-motion';\n\nimport './Home.css';\n\nconst Home = () =>{\n\n    const [err, setErr] = useState('');\n\n    const { doc } = useFirestoreHome('images');\n\n    let count = useRef(0);\n\n    useEffect(() => {\n        if(doc.length === 0) {\n            count.current = count.current + 1;\n        }\n        if(count.current >=2 ) {\n            setErr('There has been an issue. Please try agin later.');\n        } else {\n            setErr('');\n        }\n    }, [doc]);\n\n    return(\n        <div className=\"home-wrap\">\n        { doc.length !== 0 ? doc.map(d => (\n            <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} transition={{ delkay: 1 }} key={d.id} className=\"card\">\n                <span className=\"created-by\">{d.displayName}</span>\n                <div className=\"home-image-wrap\">\n                    <img src={d.url} alt=\"uploaded pic\"/>\n                </div>\n            </motion.div>\n        )) : <div className=\"error\">{err}</div>}\n        </div>\n    )\n}\n\nexport default Home;","import React from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\n\n//Providers\n\n// Components\nimport Profile from './components/Profile/Profile';\nimport Navbar from './components/Navbar/Navbar';\nimport Login from './components/auth/Login';\nimport Logout from './components/auth/Logout';\nimport Signup from './components/auth/Signup';\nimport Home from './components/Home/Home';\nimport UserProvider from './context/UserProvider';\n\n\n\nfunction App() {\n\n\n  return (\n    <Router>\n      <UserProvider>\n        <Navbar />\n        <Route exact path=\"/logout\" component={ Logout } />\n        <Route exact path=\"/login\" component={ Login }/>\n        <Route exact path=\"/signup\" component={ Signup }/>\n        <Route exact path=\"/profile\" component={ Profile }/>\n        <Route exact path=\"/\" component={ Home } />\n      </UserProvider>\n\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA","import firebase from 'firebase/app';\nimport 'firebase/storage';\nimport 'firebase/firestore';\nimport 'firebase/auth';\n\n// Your web app's Firebase configuration\nvar firebaseConfig = {\n    apiKey: process.env.REACT_APP_API_KEY,\n    authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n    databaseURL: process.env.REACT_APP_DATABASE_URL,\n    projectId: process.env.REACT_APP_PROJECT_ID,\n    storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n    messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n    appId: process.env.APP_ID\n  };\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nconst projectStorage = firebase.storage();\nconst projectFirestore = firebase.firestore();\nconst timestamp = firebase.firestore.FieldValue.serverTimestamp;\nconst auth = firebase.auth();\n\nexport { projectStorage, projectFirestore, timestamp, auth };\n\n"],"sourceRoot":""}