{"version":3,"sources":["firebase/config.js","context/UserProvider.js","components/Title/Title.js","hooks/useStorage.js","components/ProgressBar/ProgressBar.js","components/UploadForm/UploadForm.js","hooks/useFirestore.js","components/ImageGrid/ImageGrid.js","components/Modal/Modal.js","components/Profile/Profile.js","components/Navbar/Navbar.js","components/Loader/Loader.js","components/auth/Login.js","components/auth/Logout.js","components/auth/Signup.js","components/Home/Home.js","App.js","index.js"],"names":["firebaseConfig","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","REACT_APP_MESSAGING_SENDER_ID","appId","APP_ID","firebase","initializeApp","projectStorage","storage","projectFirestore","firestore","timestamp","FieldValue","serverTimestamp","auth","userContext","createContext","user","UserProvider","props","useState","setUser","useEffect","onAuthStateChanged","a","userAuth","Provider","value","children","Title","useContext","className","displayName","useStorage","file","userId","progress","setProgress","error","setError","url","setUrl","storageRef","ref","name","collectionRef","collection","doc","put","on","snap","percentage","bytesTransferred","totalBytes","err","getDownloadURL","createdAt","add","ProgressBar","setFile","uid","setErr","div","initial","width","animate","UploadForm","types","type","onChange","e","selected","target","files","includes","useFirestore","docs","setDocs","unsub","orderBy","onSnapshot","documents","forEach","push","data","id","ImageGrid","setSelectedImage","map","whileHover","opacity","layout","key","onClick","img","transition","delay","src","alt","Modal","selectedImage","classList","contains","y","Profile","to","Navbar","Loader","Login","email","setEmail","password","setPassword","loading","setLoading","handleSubmit","preventDefault","signInWithEmailAndPassword","message","onSubmit","htmlFor","currentTarget","p","Logout","loggedOut","setLoggedOut","signOut","then","catch","Signup","userName","setUserName","validateForm","createUserWithEmailAndPassword","updateProfile","valid","length","required","Home","App","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c0257126.chunk.js","sourcesContent":["import firebase from 'firebase/app';\nimport 'firebase/storage';\nimport 'firebase/firestore';\nimport 'firebase/auth';\n\n// Your web app's Firebase configuration\nvar firebaseConfig = {\n    apiKey: process.env.REACT_APP_API_KEY,\n    authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n    databaseURL: process.env.REACT_APP_DATABASE_URL,\n    projectId: process.env.REACT_APP_PROJECT_ID,\n    storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n    messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n    appId: process.env.APP_ID\n  };\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nconst projectStorage = firebase.storage();\nconst projectFirestore = firebase.firestore();\nconst timestamp = firebase.firestore.FieldValue.serverTimestamp;\nconst auth = firebase.auth();\n\nexport { projectStorage, projectFirestore, timestamp, auth };\n\n","import React, { createContext, useState, useEffect } from 'react';\nimport { auth } from '../firebase/config';\n\nexport const userContext = createContext({\n    user: null\n});\n\nconst UserProvider = (props) => {\n    const [user, setUser] = useState(null);\n\n    useEffect(() => {\n        auth.onAuthStateChanged(async userAuth => {\n            setUser(userAuth);\n        });\n    },[]);\n\n    return (\n        <userContext.Provider value={ user }>\n            {props.children}\n        </userContext.Provider>\n    )\n}\n\nexport default UserProvider;","import React, { useContext } from 'react';\n\nimport './Title.css'\nimport { userContext } from '../../context/UserProvider';\n\nconst Title = () => {\n\n  const user = useContext(userContext);\n\n  return (\n    <div className=\"title\">\n      <h2>{user.displayName}</h2>\n      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>\n    </div>\n  )\n}\n\nexport default Title;","import { useState, useEffect } from 'react';\nimport { projectStorage, projectFirestore, timestamp } from '../firebase/config';\n\nconst useStorage = (file, userId) => {\n    const [progress, setProgress] = useState(0);\n    const [error, setError] = useState(null);\n    const [url, setUrl] = useState(null);\n\n    useEffect(() => {\n        // references\n        const storageRef = projectStorage.ref(file.name);\n        const collectionRef = projectFirestore.collection('users').doc(userId).collection('userImages');\n\n        storageRef.put(file).on('state_changed', (snap) => {\n            let percentage = (snap.bytesTransferred / snap.totalBytes) * 100;\n            setProgress(percentage);\n        }, (err) => {\n            setError(err);\n        }, async () => {\n            const url = await storageRef.getDownloadURL();\n            const createdAt = timestamp();\n\n            collectionRef.add({ \n                url,\n                createdAt\n            })\n            setUrl(url);\n        });\n    }, [file, userId]);\n\n    return { progress, url, error };\n}\n\nexport default useStorage;","import React, { useEffect, useContext, useState } from 'react';\nimport useStorage from '../../hooks/useStorage';\nimport { motion } from 'framer-motion';\nimport './Progress.css'\nimport { userContext } from '../../context/UserProvider';\n\nconst ProgressBar = ({file, setFile}) => {\n\n    const user = useContext(userContext);\n    const { url, progress, error } = useStorage(file, user.uid);\n    const [err, setErr] = useState('');\n    \n    useEffect(() => {\n        if(url) {\n            setFile(null);\n        }\n        if(error) {\n            setErr('Something went wrong. Please try again later!')\n        }\n    }, [url, setFile, error]);\n\n    return (\n        <>\n        { !err ? \n            <motion.div className=\"progress-bar\"\n                initial={{ width: 0}}\n                animate={{ width: progress + '%'}}>\n            </motion.div> :\n            <div className=\"error\">{err}</div>\n        }\n\n        </>\n    )\n}\n\nexport default ProgressBar;","import React, { useState } from 'react';\nimport ProgressBar from '../ProgressBar/ProgressBar';\nimport './UploadForm.css'\n\nconst UploadForm = () => {\n\n\n    const [file, setFile] = useState(null);\n    const [error, setError] = useState(null);\n\n    const types = ['image/png', 'image/jpeg', 'image/jpg'];\n\n    const changeHandler = (e) => {\n        let selected = e.target.files[0];\n\n        if(selected && types.includes(selected.type)) {\n            setFile(selected);\n            setError('');\n        } else {\n            setFile(null);\n            setError('Please select and image file (png, jpeg or jpg)');\n        }\n    }\n\n    return(\n        <form className=\"upload-form\">\n            <label>\n              <input type=\"file\" onChange={changeHandler}/>\n              <span>+</span>\n            </label>\n           <div className=\"output\">\n            {error && <div className=\"error\">{error}</div>}\n            {file && <div>{file.name}</div>}\n            {file && <ProgressBar file={file} setFile={setFile} />}\n           </div>\n        </form>\n    );\n}\n\nexport default UploadForm;","import { useState, useEffect } from 'react';\nimport { projectFirestore } from '../firebase/config';\n\nconst useFirestore = (collection, userId) => {\n    const [docs, setDocs] = useState([]);\n\n    useEffect(() => {\n        const unsub = projectFirestore.collection(collection).doc(userId).collection('userImages')\n        .orderBy('createdAt', 'desc')\n        .onSnapshot((snap) => {\n            let documents = [];\n            snap.forEach(doc => {\n                documents.push({...doc.data(), id: doc.id});\n            });\n            setDocs(documents);\n        });\n\n       return () => unsub(); \n    }, [collection, userId]);\n\n    return { docs };\n}\n\nexport default useFirestore;","import React, { useContext } from 'react';\nimport useFirestore from '../../hooks/useFirestore';\nimport { motion } from 'framer-motion';\nimport './ImageGrid.css'\nimport { userContext } from '../../context/UserProvider';\n\nconst ImageGrid = ({ setSelectedImage }) => {\n\n    const user = useContext(userContext);\n    const { docs } = useFirestore('users', user.uid);\n\n    return (\n        <div className=\"img-grid\">\n            { docs && docs.map( doc => (\n                <motion.div whileHover={{ opacity: 1 }} layout className=\"img-wrap\" key={ doc.id } onClick={ () => setSelectedImage(doc.url) }>\n                    <motion.img \n                    initial={{ opacity: 0 }}\n                    animate={{ opacity: 1 }}\n                    transition= {{ delay: 1 }}\n                    src={ doc.url } alt=\"uploaded pic\" />\n                </motion.div>\n            ))}\n        </div>\n    )\n}\n\nexport default ImageGrid;","import React from 'react';\nimport { motion } from 'framer-motion';\nimport './Modal.css'\n\nconst Modal = ({ selectedImage, setSelectedImage }) => {\n\n    const handleClick = (e) => {\n        if(e.target.classList.contains('backdrop')){\n            setSelectedImage(null);\n        }\n    }\n\n    return (\n        <motion.div \n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        className=\"backdrop\" onClick={ handleClick }>\n            <motion.img \n            initial={{ y: \"-100vh\" }}\n            animate={{ y: 0 }}\n            src={ selectedImage } alt=\"enlarged pic\"/>\n        </motion.div>\n    )\n}\n\nexport default Modal;","import React, { useState, useContext } from 'react';\n\nimport Title from '../Title/Title';\nimport UploadForm from '../UploadForm/UploadForm';\nimport ImageGrid from '../ImageGrid/ImageGrid';\nimport Modal from '../Modal/Modal';\nimport { Redirect } from 'react-router-dom';\nimport { userContext } from '../../context/UserProvider';\n\nconst Profile = () => {\n\n  const [selectedImage, setSelectedImage] = useState(null)\n  const user = useContext(userContext);\n\n  if(!user) {\n    return <Redirect to=\"/login\" />\n  }\n\n  return(\n      <div className=\"App\">\n        <Title/>\n        <UploadForm />\n        <ImageGrid setSelectedImage={ setSelectedImage } />\n        { selectedImage && <Modal selectedImage= { selectedImage } setSelectedImage= { setSelectedImage }/>}\n      </div>\n  )\n}\n\nexport default Profile;","import React, { useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport { userContext } from '../../context/UserProvider';\nimport './Navbar.css';\n\nconst Navbar = () => {\n\n    const user = useContext(userContext);\n\n    return(\n        <div className=\"nav-wrap\">\n            <nav className=\"nav-bar\">\n                <span className=\"logo\"><Link to=\"/home\">Photo App</Link></span>\n                <span className=\"spacer\"></span>\n                <ul>\n                    { user && <li className=\"nav-link\"><Link to=\"/logout\">Log out</Link></li>}\n                    { !user && <li className=\"nav-link\"><Link to=\"/login\">Log in</Link></li>}\n                    { !user && <li className=\"nav-link\"><Link to=\"/signup\">Sign up</Link></li>}\n                    <li className=\"nav-link\"><Link to=\"/profile\">Profile</Link></li>\n                </ul>\n            </nav>\n        </div>\n\n    )\n}\n\nexport default Navbar;","import React from 'react';\n\nimport './Loader.css';\n\nconst Loader = () => {\n\n    return (\n        <div className=\"loader\"></div>\n    )\n}\n\nexport default Loader;","import React, { useState, useContext } from 'react'\nimport { auth } from 'firebase';\nimport { userContext } from '../../context/UserProvider'\n\nimport './Auth.css'\nimport { Redirect, Link } from 'react-router-dom';\nimport Loader from '../Loader/Loader';\n\nconst Login = () => {\n\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState('');\n    const user = useContext(userContext);\n\n    const handleSubmit = async (e) =>{\n        e.preventDefault()\n        try {\n            setLoading(true);\n            await auth().signInWithEmailAndPassword(email, password);\n        } catch (err) {\n            setLoading(false);\n            setError(err.message);\n        }\n    }\n    if(user) return <Redirect to=\"/home\" />\n\n    return (\n        <div className=\"auth-wrap\">\n            { !loading ?\n            <form onSubmit={ handleSubmit }>\n                <span>Log in</span>\n                <label htmlFor=\"email\">Email:</label>\n                <input type=\"email\" name=\"email\" onChange={ e => setEmail(e.currentTarget.value)} />\n                <label htmlFor=\"password\">Password:</label>\n                <input type=\"password\" name=\"password\" onChange={ p => setPassword(p.currentTarget.value)} />\n                <div className=\"button-wrap\">\n                    <button type=\"submit\" className=\"button button-primary\">Log in</button>\n                    <Link to=\"/signup\" className=\"button button-secondary\">Sign up</Link>\n                </div>\n            </form> :\n            <Loader />\n            }\n            { error && <div className=\"error\">{error}</div> }\n        </div>\n    )\n}\n\nexport default Login;","import React, { useEffect, useState } from 'react';\nimport { auth } from '../../firebase/config'\nimport { Redirect } from 'react-router-dom';\n\n\nconst Logout = () => {\n\n    const [loggedOut, setLoggedOut] = useState(false);\n    const [error, setError] = useState('');\n\n    useEffect(() => {\n        auth.signOut().then(() => {\n            setLoggedOut(true)\n        }).catch(setError(error));\n    }, [error])\n\n    if (loggedOut) {\n        return <Redirect to=\"/home\" />\n    }\n\n    return (\n        <div>{error.message}</div>\n    )\n}\n\nexport default Logout;","import React, { useState, useContext } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { auth } from '../../firebase/config';\nimport './Auth.css';\nimport { userContext } from '../../context/UserProvider';\nimport Loader from '../Loader/Loader';\n\nconst Signup = () => {\n\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [userName, setUserName] = useState('');\n    const [error, setError] = useState('');\n    const [loading, setLoading] = useState(false);\n    const user = useContext(userContext);\n\n    const handleSubmit = async (e) =>{\n        e.preventDefault()\n        if(validateForm()) {\n            try {\n                setLoading(true);\n                await auth.createUserWithEmailAndPassword(email, password).then(user => {\n                    user.user.updateProfile({\n                        displayName: userName\n                    })\n                });\n            } catch (err) {\n                setLoading(false);\n                setError(err.message);\n            }\n        }\n\n    }\n\n    const validateForm = () => {\n        let valid = true;\n        if(userName.length < 3) {\n            setError('Username must be minimum 3 characters.');\n            valid = false;\n        }\n\n        if(password.length < 6) {\n            setError('Password must be minimum 6 characters');\n            valid = false;\n        }\n\n        return valid;\n    }\n\n    if(user) return <Redirect to=\"/home\" />\n\n    return (\n        <div className=\"auth-wrap\">\n            { !loading ?\n                <form onSubmit={ handleSubmit }>\n                    <span>Sign up</span>\n                    <label htmlFor=\"userName\">Username:</label>\n                    <input type=\"text\" name=\"userName\" required onChange={ e => setUserName(e.currentTarget.value)} />\n                    <label htmlFor=\"email\">Email:</label>\n                    <input type=\"email\" name=\"email\" onChange={ e => {\n                        setEmail(e.currentTarget.value);\n                        setError('');\n                    }} required/>\n                    <label htmlFor=\"password\">Password:</label>\n                    <input type=\"password\" name=\"password\" required onChange={ p => setPassword(p.currentTarget.value)} />\n                    <button type=\"submit\" className=\"button button-primary\">Sign up</button>\n                </form> :\n                <Loader />\n            }\n            { error && <div className=\"error\">{error}</div> }\n        </div>\n    )\n}\n\nexport default Signup;","import React from 'react';\n\nconst Home = () =>{\n\n    return(\n        <div>Home</div>\n    )\n}\n\nexport default Home;","import React from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\n\n//Providers\n\n// Components\nimport Profile from './components/Profile/Profile';\nimport Navbar from './components/Navbar/Navbar';\nimport Login from './components/auth/Login';\nimport Logout from './components/auth/Logout';\nimport Signup from './components/auth/Signup';\nimport Home from './components/Home/Home';\nimport UserProvider from './context/UserProvider';\n\n\n\nfunction App() {\n\n\n  return (\n    <Router>\n      <UserProvider>\n        <Navbar />\n        <Route exact path=\"/logout\" component={ Logout } />\n        <Route exact path=\"/login\" component={ Login }/>\n        <Route exact path=\"/signup\" component={ Signup }/>\n        <Route exact path=\"/profile\" component={ Profile }/>\n        <Route path=\"/home\" component={ Home } />\n      </UserProvider>\n\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA"],"sourceRoot":""}